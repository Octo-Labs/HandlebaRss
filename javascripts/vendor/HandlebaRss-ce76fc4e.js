function HandlebaRss(e,t,s,a){e instanceof Array?this.feedUrls=e:this.feedUrl=e,this.template=t,this.destination=s,this.multiLimit=a}HandlebaRss.prototype.init=function(){if(this.feedUrl)this.retrieveUrl(this.feedUrl,$.proxy(this.captureAndRender,this));else for(var e=0;e<this.feedUrls.length;e++)this.retrieveUrl(this.feedUrls[e],$.proxy(this.captureMultiAndRender,this))},HandlebaRss.prototype.addFeedData=function(e){this.feedDatas||(this.feedDatas=[]),this.feedDatas.push(e.responseData.feed)},HandlebaRss.prototype.retrieveUrl=function(e,t){$.ajax({url:"http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q="+encodeURIComponent(e),dataType:"json",success:t})},HandlebaRss.prototype.captureAndRender=function(e){this.captureFeed(e),this.render()},HandlebaRss.prototype.captureMultiAndRender=function(e){this.addFeedData(e),this.renderMulti()},HandlebaRss.prototype.captureFeed=function(e){this.feed=e.responseData.feed},HandlebaRss.prototype.render=function(){var e=$(this.template).html(),t=Handlebars.compile(e),s=t(this.feed);$(this.destination).html(s)},HandlebaRss.prototype.renderMulti=function(){var e=$(this.template).html(),t=Handlebars.compile(e),s=this.coalesseFeeds(),a={entries:s},i=t(a);$(this.destination).html(i)},HandlebaRss.prototype.coalesseFeeds=function(){for(var e=[],t=0;t<this.feedDatas.length;t++)for(var s=this.feedDatas[t],a={author:s.author,description:s.description,feedUrl:s.feedUrl,link:s.link,title:s.title,type:s.type},i=0;i<s.entries.length&&!(this.multiLimit&&i>=this.multiLimit);i++){var r=s.entries[i];r.feed=a,e.push(r)}var n=e.sort(function(e,t){var s=Date.parse(e.publishedDate),a=Date.parse(t.publishedDate);return s==a?0:a>s?1:-1});return n};